--- src/octoprint/templates/dialogs/wizard.jinja2.orig	2017-12-12 11:42:40 UTC
+++ src/octoprint/templates/dialogs/wizard.jinja2
@@ -7,7 +7,7 @@
             <div class="tabbable row-fluid">
                 <div class="span3 scrollable" id="wizard_dialog_menu">
                     <ul class="nav nav-list" id="wizardTabs">
-                        {% set mark_active = True %}
+                        {% set mark_active = [True] %}
                         {% for key in templates.wizard.order %}
                             {% set entry, data = templates.wizard.entries[key] %}
                             {% if data is none %}
@@ -16,7 +16,7 @@
                                 {% if "custom_bindings" not in data or data["custom_bindings"] %}<!-- ko allowBindings: false -->{% endif %}
                                 <li id="{{ data._div }}_link"
                                     {% if "data_bind" in data %}data-bind="{{ data.data_bind }}"{% endif %}
-                                    class="{% if mark_active %}active{% set mark_active = False %}{% endif %} {% if "classes_link" in data %}{{ data.classes_link|join(' ') }}{% elif "classes" in data %}{{ data.classes|join(' ') }}{% endif %}"
+                                    class="{% if mark_active[0] %}active{% do mark_active.pop() %}{% do mark_active.append(False) %}{% endif %} {% if "classes_link" in data %}{{ data.classes_link|join(' ') }}{% elif "classes" in data %}{{ data.classes|join(' ') }}{% endif %}"
                                         {% if "styles_link" in data %} style="{{ data.styles_link|join(', ') }}" {% elif "styles" in data %} style="{{ data.styles|join(', ') }}" {% endif %}
                                         >
                                     <a href="#{{ data._div }}" data-toggle="tab">{% if "mandatory" in data and data.mandatory %}<strong>{{ entry }}</strong>{% else %}{{ entry }}{% endif %}</a>
@@ -27,14 +27,14 @@
                     </ul>
                 </div>
                 <div class="tab-content span9 scrollable" id="wizard_dialog_content">
-                    {% set mark_active = True %}
+                    {% set mark_active = [True] %}
                     {% for key in templates.wizard.order %}
                         {% set entry, data = templates.wizard.entries[key] %}
                         {% if data is not none %}
                             {% if "custom_bindings" not in data or data["custom_bindings"] %}<!-- ko allowBindings: false -->{% endif %}
                             <div id="{{ data._div }}"
                                  {% if "data_bind" in data %}data-bind="{{ data.data_bind }}"{% endif %}
-                                 class="tab-pane {% if mark_active %}active{% set mark_active = False %}{% endif %} {% if classes_content in data %}{{ data.classes_content|join(' ') }}{% elif classes in data %}{{ data.classes|join(' ') }}{% endif %}"
+                                 class="tab-pane {% if mark_active %}active{% do mark_active.pop() %}{% do mark_active.append(False) %}{% endif %} {% if classes_content in data %}{{ data.classes_content|join(' ') }}{% elif classes in data %}{{ data.classes|join(' ') }}{% endif %}"
                                     {% if "styles_content" in data %} style="{{ data.styles_content|join(', ') }}" {% elif styles in data %} style="{{ data.styles|join(', ') }}" {% endif %}
                                     >
                                     {% if "mandatory" in data and data.mandatory %}
